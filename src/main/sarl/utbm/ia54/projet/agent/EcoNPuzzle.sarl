package utbm.ia54.projet.^agent

import io.sarl.core.DefaultContextInteractions
import io.sarl.core.Destroy
import io.sarl.core.Initialize
import io.sarl.core.Lifecycle
import utbm.ia54.projet.gui.EcoNPuzzleLauncher

agent EcoNPuzzle {
	
	uses DefaultContextInteractions, Lifecycle
	
	var size : int
	
	on Initialize {
		size = new Integer(occurrence.parameters.get(0) as String)
		for(i:1..<size*size+1) {
			// Create place and tile
			spawn(EcoPlace, i, spawn(EcoTile, i))
		}
		
		// Launch GUI
		EcoNPuzzleLauncher.launchInterface()
		
		// Stop creating
		killMe
	}
	
	on Destroy {
		
	}
	
}